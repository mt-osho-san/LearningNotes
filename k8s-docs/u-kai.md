# コンセプト

> さらに、Kubernetes は単なるオーケストレーションシステムではありません。実際には、オーケストレーションの必要性はありません。オーケストレーションの技術的な定義は、「最初に A を実行し、次に B、その次に C を実行」のような定義されたワークフローの実行です。対照的に Kubernetes は、現在の状態から提示されたあるべき状態にあわせて継続的に維持するといった、独立していて構成可能な制御プロセスのセットを提供します。A から C へどのように移行するかは問題ではありません。集中管理も必要ありません。これにより、使いやすく、より強力で、堅牢で、弾力性と拡張性があるシステムが実現します。

ここが面白いところな気がする。Reconcile loop で気づいたらあるべき状態になっていると言うのが k8s な気がしている

- kube-proxy が実際にどうなっているのかは気になっているけど、調べられていない

> ラベルは効率的な検索・閲覧を可能にし、UI や CLI 上での利用に最適です。 識別用途でない情報は、アノテーションを用いて記録されるべきです。

- ラベル管理は使うエコシステムによっても変わってくる重要な概念
  - k8s のラベル管理のベスプラを知りたい。。。
- ラベルにプレフィックスがあるとか知らなかった
  - `k8s.io/` とか `kubernetes.io/` とか...
- ラベルセレクターで、等価だけではなく不等や集合などで表現できるの知らなかったけど、表現方法がわからなかった
  - notin とか見たことない。。。
  - そもそもそれ以外、とかで選択したことがオペレーション上あまりないからかな？
  - 良く見たら表現方法あった
  ```yaml
  selector:
  matchLabels:
    component: redis
  matchExpressions:
    - { key: tier, operator: In, values: [cache] }
    - { key: environment, operator: NotIn, values: [dev] }
  ```

> 数人から数十人しかユーザーのいないクラスターに対して、あなたは Namespace を作成したり、考える必要は全くありません。 Kubernetes が提供する Namespace の機能が必要となった時に、Namespace の使用を始めてください。
> Namespace は名前空間のスコープを提供します。リソース名は単一の Namespace 内ではユニークである必要がありますが、Namespace 全体ではその必要はありません。Namespace は相互にネストすることはできず、各 Kubernetes リソースは 1 つの Namespace にのみ存在できます。
> Namespace は、複数のユーザーの間でクラスターリソースを分割する方法です。(これはリソースクォータを介して分割します。)
> 同じアプリケーションの異なるバージョンなど、少し違うリソースをただ分割するだけに、複数の Namespace を使う必要はありません。 同一の Namespace 内でリソースを区別するためにはラベルを使用してください。

- 結構 NS 切るつもりだったけど、そんなきらんで良いよってのがドキュメントの見解なんか？
- kube-node-lease と kube-public は良くわからん

> エンドユーザーのオブジェクトにアノテーションを追加するような自動化されたシステムコンポーネント(例: kube-scheduler kube-controller-manager kube-apiserver kubectl やその他のサードパーティツール)は、プレフィックスを指定しなくてはなりません。

- 自分で何かしらの Operator を作るときには、プレフィックスをつけるべきな気がした
- どこまで何をしたいかで annotation の付け方は変わりそうだけど、自動で付与するような仕組みがないと用意種類増やすのは大変そう
