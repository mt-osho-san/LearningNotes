# 1 章　ブラウザは何をしているのか

- 基本的な HTTP のリクエスト、レスポンス内容についての解説をしている
- HSTS のデータベースがあることを知らなかった
  - HSTS 自体は http ヘッダに Strict-Transport-Security の項目を定義することで次回以降 https での通信をさせる
    - 初回は平文での通信になってしまう
  - HSTS のデータベース（リスト）というのは、正式には HSTS Preload というもので、そのリストに該当するページは初回アクセス時から https での接続をさせる仕組み
    - 主要ブラウザはほぼ対応している

---

# 2 　章　

- この章では HTTP/1.0 ができるまでの歴史と、HTTP/1.0 におけるメソッドやパスなどについて解説をしている
- HTTP/0.9 という名前ができたのは、HTTP/1.0 ができてからだったのか
- MDN はもともと Mozilla のものだったが、現在は Google や MS もコントリビュートしている
- HTTP/0.9 では、HTML 以外を送る想定がなかったり、新しい文書に更新したり、削除したりできなかった
- http ヘッダーの"x-"は私的な独自ヘッダーに利用しているが、「標準外のフィールドが標準になったときに不便が発生するため、2012 年 6 月の RFC 6648 で非推奨になりました」らしい
- メールとニュースグループは HTTP の祖先のようなもので、それぞれ MIME やフィールド、メソッドやステータスコードが受け継がれている
- canon が.canon のトップレベルドメインを持っているのか、canon は IT のイメージあまりなかったが当時は進んでいたのか？（google で canon 調べると canon.co.jp だった）
- キリル文字の і とローマ字の i など似た文字を使った攻撃をホモグラフ攻撃というらしい、名前あったのか
- dk 社もスパルタン仕様

---

# 3 章

- HTTP/1.0 の主にブラウザ側での動きを解説する。
- フォームの機能を使ってファイル送信を-d のかわりに-F とすることで実現可能
- サーバーからブラウザへの通信時の gzip などの圧縮はサーバー側で設定が必要？
  - もしくは特に設定せずとも圧縮している？
- セッションクッキーと永続クッキーの 2 つがあることを知らなかった
  - 永続クッキーはいつまで残るのか
  - ＝＞"Cookie に期限日が含まれていない場合は、セッション Cookie と見なされます"
  - デフォルトはセッションクッキーということか
- クッキーはリクエスト時に毎回付与されるので適切なサイズ、量のクッキーを使うことが通信容量の観点で良い
- localStorage, sessionStorage は同一オリジンでのみ利用可能なのですね。
- ベーシック、ダイジェスト認証のデメリット
  - リクエストごとに認証が必要、明示的なログオフができない、端末の識別ができない
- 代わりにフォームのログインとクッキーを使ったセッション管理を利用するケースがほとんど
  - ダイジェスト認証とは違い、ID、PASS を直接サーバーに送信するので SSL/TLS が必須
- 署名付きクッキーでデータの一時的な保存
  - サーバー側にデータ保存のしくみが必要ないが、クライアントが別々のデバイスから利用したら共有されない
  - 安易に使うとユーザビリティが悪くなりそう
- なにかの勉強で x-forwarded-for ヘッダの話があった気がするが、Forwarded で標準化されているのか
- Last Modified（更新日時によるキャッシュ）はキャッシュの利用を確認するためにもサーバーへのアクセスが必要なので、Expired が導入された
  - 地球の裏側だとキャッシュの確認だけで 0.2 秒、光の速度を感じる
- Cache control の max-age, private などでキャッシュを利用するかどうかを制御可能（HTTP/1.1~）
- Vary ヘッダーの存在は聞いたことがなかった
  - ユーザーやデバイスによって表示内容が変化する際の理由を示している
- Referer スペルミスなのか笑（Referrer が英語としては正しい）
- Referer でアクセス元の URL がわかるので、機密情報を GET パラメータにいれるのは良くない
- robots.txt のほうが優先されるが、meta タグのほうが細かい調整が可能（noindex, nofollow など）
  - robots.txt を知っていて設定しない場合はクロールされても何も言えない
- サイトマップ：ウェブサイトに含まれるページ一覧とそのメタデータを提供する XML ファイル
  - サイトマップって聞いたことあったがしらなかった
- Google のガイドライン「同一コンテンツをすべてのブラウザに配信し、必要な設定を選ばせるレスポンシブデザインが推奨」
  - user-agent で表示内容を変えるもんかと思っていたが、推奨ではないということか
